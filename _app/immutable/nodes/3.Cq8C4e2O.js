import{f as st,a as Y,d as ut,c as jt}from"../chunks/CSHZPw5f.js";import{o as jr}from"../chunks/D2DvGYym.js";import{F as ra,h as yt,A as $e,_ as ti,x as ia,K as g,U as aa,s as oa,c as sa,as as ei,aC as ua,ag as or,b as ni,e as Tn,ax as la,a8 as sr,r as ri,p as fa,aD as je,aE as sn,d as ii,aF as tn,aG as ca,a5 as ha,aH as da,ar as ga,aI as va,C as ai,Q as oi,y as ma,H as pa,z as ur,B as un,f as fe,a4 as _a,au as ya,aJ as si,G as ui,aK as xa,E as wa,aL as ba,aM as Ma,D as Ta,j as Ca,aN as ka,aO as li,aP as Sa,a6 as ce,k as se,u as Hn,w as $,l as ct,o as ue,az as Tt,aB as Q,q as G,v as H,t as nt,O as it,M as ln}from"../chunks/DAr6Hz_4.js";import{p as ot,i as At,b as Lt}from"../chunks/s51_5qks.js";import{a as Aa,s as St}from"../chunks/PyNdQq4R.js";import{s as w}from"../chunks/BGOCNifs.js";function Na(t,e){yt&&$e(ti(t)),ra(()=>{var n=e();for(var r in n){var i=n[r];i?t.style.setProperty(r,i):t.style.removeProperty(r)}})}function bt(t,e){return e}function Da(t,e,n){for(var r=t.items,i=[],a=e.length,o=0;o<a;o++)da(e[o].e,i,!0);var u=a>0&&i.length===0&&n!==null;if(u){var l=n.parentNode;ga(l),l.append(n),r.clear(),kt(t,e[0].prev,e[a-1].next)}va(i,()=>{for(var s=0;s<a;s++){var c=e[s];u||(r.delete(c.k),kt(t,c.prev,c.next)),ii(c.e,!u)}})}function Mt(t,e,n,r,i,a=null){var o=t,u={flags:e,items:new Map,first:null},l=(e&si)!==0;if(l){var s=t;o=yt?$e(ti(s)):s.appendChild(ni())}yt&&ai();var c=null,f=!1,h=new Map,d=aa(()=>{var b=n();return ua(b)?b:b==null?[]:ei(b)}),v,_;function y(){Ua(_,v,u,h,o,i,e,r,n),a!==null&&(v.length===0?c?ri(c):c=Tn(()=>a(o)):c!==null&&fa(c,()=>{c=null}))}ia(()=>{_??=oi,v=g(d);var b=v.length;if(f&&b===0)return;f=b===0;let N=!1;if(yt){var S=ma(o)===pa;S!==(b===0)&&(o=ur(),$e(o),un(!1),N=!0)}if(yt){for(var M=null,T,m=0;m<b;m++){if(fe.nodeType===_a&&fe.data===ya){o=fe,N=!0,un(!1);break}var p=v[m],C=r(p,m);T=Cn(fe,u,M,null,p,C,m,i,e,n),u.items.set(C,T),M=T}b>0&&$e(ur())}if(yt)b===0&&a&&(c=Tn(()=>a(o)));else if(oa()){var O=new Set,B=sa;for(m=0;m<b;m+=1){p=v[m],C=r(p,m);var A=u.items.get(C)??h.get(C);A?(e&(tn|je))!==0&&fi(A,p,m,e):(T=Cn(null,u,null,null,p,C,m,i,e,n,!0),h.set(C,T)),O.add(C)}for(const[R,D]of u.items)O.has(R)||B.skipped_effects.add(D.e);B.oncommit(y)}else y();N&&un(!0),g(d)}),yt&&(o=fe)}function Ua(t,e,n,r,i,a,o,u,l){var s=(o&xa)!==0,c=(o&(tn|je))!==0,f=e.length,h=n.items,d=n.first,v=d,_,y=null,b,N=[],S=[],M,T,m,p;if(s)for(p=0;p<f;p+=1)M=e[p],T=u(M,p),m=h.get(T),m!==void 0&&(m.a?.measure(),(b??=new Set).add(m));for(p=0;p<f;p+=1){if(M=e[p],T=u(M,p),m=h.get(T),m===void 0){var C=r.get(T);if(C!==void 0){r.delete(T),h.set(T,C);var O=y?y.next:v;kt(n,y,C),kt(n,C,O),fn(C,O,i),y=C}else{var B=v?v.e.nodes_start:i;y=Cn(B,n,y,y===null?n.first:y.next,M,T,p,a,o,l)}h.set(T,y),N=[],S=[],v=y.next;continue}if(c&&fi(m,M,p,o),(m.e.f&sn)!==0&&(ri(m.e),s&&(m.a?.unfix(),(b??=new Set).delete(m))),m!==v){if(_!==void 0&&_.has(m)){if(N.length<S.length){var A=S[0],R;y=A.prev;var D=N[0],P=N[N.length-1];for(R=0;R<N.length;R+=1)fn(N[R],A,i);for(R=0;R<S.length;R+=1)_.delete(S[R]);kt(n,D.prev,P.next),kt(n,y,D),kt(n,P,A),v=A,y=P,p-=1,N=[],S=[]}else _.delete(m),fn(m,v,i),kt(n,m.prev,m.next),kt(n,m,y===null?n.first:y.next),kt(n,y,m),y=m;continue}for(N=[],S=[];v!==null&&v.k!==T;)(v.e.f&sn)===0&&(_??=new Set).add(v),S.push(v),v=v.next;if(v===null)continue;m=v}N.push(m),y=m,v=m.next}if(v!==null||_!==void 0){for(var z=_===void 0?[]:ei(_);v!==null;)(v.e.f&sn)===0&&z.push(v),v=v.next;var q=z.length;if(q>0){var X=(o&si)!==0&&f===0?i:null;if(s){for(p=0;p<q;p+=1)z[p].a?.measure();for(p=0;p<q;p+=1)z[p].a?.fix()}Da(n,z,X)}}s&&ui(()=>{if(b!==void 0)for(m of b)m.a?.apply()}),t.first=n.first&&n.first.e,t.last=y&&y.e;for(var U of r.values())ii(U.e);r.clear()}function fi(t,e,n,r){(r&tn)!==0&&or(t.v,e),(r&je)!==0?or(t.i,n):t.i=n}function Cn(t,e,n,r,i,a,o,u,l,s,c){var f=(l&tn)!==0,h=(l&ca)===0,d=f?h?la(i,!1,!1):sr(i):i,v=(l&je)===0?o:sr(o),_={i:v,v:d,k:a,a:null,e:null,prev:n,next:r};try{if(t===null){var y=document.createDocumentFragment();y.append(t=ni())}return _.e=Tn(()=>u(t,d,v,s),yt),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?c||(e.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function fn(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,a=t.e.nodes_start;a!==null&&a!==r;){var o=ha(a);i.before(a),a=o}}function kt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function lr(t,e,n,r,i){yt&&ai();var a=e.$$slots?.[n],o=!1;a===!0&&(a=e[n==="default"?"children":n],o=!0),a===void 0||a(t,o?()=>r:r)}function Ea(t,e){return t==null?null:String(t)}function $a(t,e,n,r){var i=t.__style;if(yt||i!==e){var a=Ea(e);(!yt||a!==t.getAttribute("style"))&&(a==null?t.removeAttribute("style"):t.style.cssText=a),t.__style=e}return r}const Fa=()=>performance.now(),$t={tick:t=>requestAnimationFrame(t),now:()=>Fa(),tasks:new Set};function ci(){const t=$t.now();$t.tasks.forEach(e=>{e.c(t)||($t.tasks.delete(e),e.f())}),$t.tasks.size!==0&&$t.tick(ci)}function Ra(t){let e;return $t.tasks.size===0&&$t.tick(ci),{promise:new Promise(n=>{$t.tasks.add(e={c:t,f:n})}),abort(){$t.tasks.delete(e)}}}function fr(t,e){li(()=>{t.dispatchEvent(new CustomEvent(e))})}function Ia(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function cr(t){const e={},n=t.split(";");for(const r of n){const[i,a]=r.split(":");if(!i||a===void 0)break;const o=Ia(i.trim());e[o]=a.trim()}return e}const Pa=t=>t;function hr(t,e,n,r){var i=(t&ka)!==0,a="in",o,u=e.inert,l=e.style.overflow,s,c;function f(){return li(()=>o??=n()(e,r?.()??{},{direction:a}))}var h={is_global:i,in(){e.inert=u,s?.abort(),fr(e,"introstart"),s=hi(e,f(),c,1,()=>{fr(e,"introend"),s?.abort(),s=o=void 0,e.style.overflow=l})},out(y){{y?.(),o=void 0;return}},stop:()=>{s?.abort()}},d=oi;if((d.transitions??=[]).push(h),Aa){var v=i;if(!v){for(var _=d.parent;_&&(_.f&wa)!==0;)for(;(_=_.parent)&&(_.f&ba)===0;);v=!_||(_.f&Ma)!==0}v&&Ta(()=>{Ca(()=>h.in())})}}function hi(t,e,n,r,i){if(Sa(e)){var a,o=!1;return ui(()=>{if(!o){var _=e({direction:"in"});a=hi(t,_,n,r,i)}}),{abort:()=>{o=!0,a?.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(!e?.duration)return i(),{abort:ce,deactivate:ce,reset:ce,t:()=>r};const{delay:u=0,css:l,tick:s,easing:c=Pa}=e;var f=[];if(s&&s(0,1),l){var h=cr(l(0,1));f.push(h,h)}var d=()=>1-r,v=t.animate(f,{duration:u,fill:"forwards"});return v.onfinish=()=>{v.cancel();var _=1-r,y=r-_,b=e.duration*Math.abs(y),N=[];if(b>0){var S=!1;if(l)for(var M=Math.ceil(b/16.666666666666668),T=0;T<=M;T+=1){var m=_+y*c(T/M),p=cr(l(m,1-m));N.push(p),S||=p.overflow==="hidden"}S&&(t.style.overflow="hidden"),d=()=>{var C=v.currentTime;return _+y*c(C/b)},s&&Ra(()=>{if(v.playState!=="running")return!1;var C=d();return s(C,1-C),!0})}v=t.animate(N,{duration:b,fill:"forwards"}),v.onfinish=()=>{d=()=>r,s?.(r,1-r),i()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=ce)},deactivate:()=>{i=ce},reset:()=>{},t:()=>d()}}function Fe(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function La(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yn(t){let e,n,r;t.length!==2?(e=Fe,n=(u,l)=>Fe(t(u),l),r=(u,l)=>t(u)-l):(e=t===Fe||t===La?t:Ha,n=t,r=t);function i(u,l,s=0,c=u.length){if(s<c){if(e(l,l)!==0)return c;do{const f=s+c>>>1;n(u[f],l)<0?s=f+1:c=f}while(s<c)}return s}function a(u,l,s=0,c=u.length){if(s<c){if(e(l,l)!==0)return c;do{const f=s+c>>>1;n(u[f],l)<=0?s=f+1:c=f}while(s<c)}return s}function o(u,l,s=0,c=u.length){const f=i(u,l,s,c-1);return f>s&&r(u[f-1],l)>-r(u[f],l)?f-1:f}return{left:i,center:o,right:a}}function Ha(){return 0}function Ya(t){return t===null?NaN:+t}const Oa=Yn(Fe),za=Oa.right;Yn(Ya).center;function On(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}const Wa=Math.sqrt(50),qa=Math.sqrt(10),Va=Math.sqrt(2);function He(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Wa?10:a>=qa?5:a>=Va?2:1;let u,l,s;return i<0?(s=Math.pow(10,-i)/o,u=Math.round(t*s),l=Math.round(e*s),u/s<t&&++u,l/s>e&&--l,s=-s):(s=Math.pow(10,i)*o,u=Math.round(t/s),l=Math.round(e/s),u*s<t&&++u,l*s>e&&--l),l<u&&.5<=n&&n<2?He(t,e,n*2):[u,l,s]}function Ba(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?He(e,t,n):He(t,e,n);if(!(a>=i))return[];const u=a-i+1,l=new Array(u);if(r)if(o<0)for(let s=0;s<u;++s)l[s]=(a-s)/-o;else for(let s=0;s<u;++s)l[s]=(a-s)*o;else if(o<0)for(let s=0;s<u;++s)l[s]=(i+s)/-o;else for(let s=0;s<u;++s)l[s]=(i+s)*o;return l}function kn(t,e,n){return e=+e,t=+t,n=+n,He(t,e,n)[2]}function Sn(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?kn(e,t,n):kn(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function we(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Xa(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Za(t){return t}var cn=1,hn=2,An=3,pe=4,dr=1e-6;function Ga(t){return"translate("+t+",0)"}function Qa(t){return"translate(0,"+t+")"}function Ja(t){return e=>+t(e)}function Ka(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ja(){return!this.__axis}function di(t,e){var n=[],r=null,i=null,a=6,o=6,u=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=t===cn||t===pe?-1:1,c=t===pe||t===hn?"x":"y",f=t===cn||t===An?Ga:Qa;function h(d){var v=r??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):Za),y=Math.max(a,0)+u,b=e.range(),N=+b[0]+l,S=+b[b.length-1]+l,M=(e.bandwidth?Ka:Ja)(e.copy(),l),T=d.selection?d.selection():d,m=T.selectAll(".domain").data([null]),p=T.selectAll(".tick").data(v,e).order(),C=p.exit(),O=p.enter().append("g").attr("class","tick"),B=p.select("line"),A=p.select("text");m=m.merge(m.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),p=p.merge(O),B=B.merge(O.append("line").attr("stroke","currentColor").attr(c+"2",s*a)),A=A.merge(O.append("text").attr("fill","currentColor").attr(c,s*y).attr("dy",t===cn?"0em":t===An?"0.71em":"0.32em")),d!==T&&(m=m.transition(d),p=p.transition(d),B=B.transition(d),A=A.transition(d),C=C.transition(d).attr("opacity",dr).attr("transform",function(R){return isFinite(R=M(R))?f(R+l):this.getAttribute("transform")}),O.attr("opacity",dr).attr("transform",function(R){var D=this.parentNode.__axis;return f((D&&isFinite(D=D(R))?D:M(R))+l)})),C.remove(),m.attr("d",t===pe||t===hn?o?"M"+s*o+","+N+"H"+l+"V"+S+"H"+s*o:"M"+l+","+N+"V"+S:o?"M"+N+","+s*o+"V"+l+"H"+S+"V"+s*o:"M"+N+","+l+"H"+S),p.attr("opacity",1).attr("transform",function(R){return f(M(R)+l)}),B.attr(c+"2",s*a),A.attr(c,s*y).text(_),T.filter(ja).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===hn?"start":t===pe?"end":"middle"),T.each(function(){this.__axis=M})}return h.scale=function(d){return arguments.length?(e=d,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(a=o=+d,h):a},h.tickSizeInner=function(d){return arguments.length?(a=+d,h):a},h.tickSizeOuter=function(d){return arguments.length?(o=+d,h):o},h.tickPadding=function(d){return arguments.length?(u=+d,h):u},h.offset=function(d){return arguments.length?(l=+d,h):l},h}function zn(t){return di(An,t)}function Wn(t){return di(pe,t)}var to={value:()=>{}};function gi(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Re(n)}function Re(t){this._=t}function eo(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Re.prototype=gi.prototype={constructor:Re,on:function(t,e){var n=this._,r=eo(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=no(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=gr(n[i],t.name,e);else if(e==null)for(i in n)n[i]=gr(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Re(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function no(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function gr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=to,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Nn="http://www.w3.org/1999/xhtml";const vr={svg:"http://www.w3.org/2000/svg",xhtml:Nn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function en(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),vr.hasOwnProperty(e)?{space:vr[e],local:t}:t}function ro(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Nn&&e.documentElement.namespaceURI===Nn?e.createElement(t):e.createElementNS(n,t)}}function io(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function vi(t){var e=en(t);return(e.local?io:ro)(e)}function ao(){}function qn(t){return t==null?ao:function(){return this.querySelector(t)}}function oo(t){typeof t!="function"&&(t=qn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=new Array(o),l,s,c=0;c<o;++c)(l=a[c])&&(s=t.call(l,l.__data__,c,a))&&("__data__"in l&&(s.__data__=l.__data__),u[c]=s);return new vt(r,this._parents)}function so(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function uo(){return[]}function mi(t){return t==null?uo:function(){return this.querySelectorAll(t)}}function lo(t){return function(){return so(t.apply(this,arguments))}}function fo(t){typeof t=="function"?t=lo(t):t=mi(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],u=o.length,l,s=0;s<u;++s)(l=o[s])&&(r.push(t.call(l,l.__data__,s,o)),i.push(l));return new vt(r,i)}function pi(t){return function(){return this.matches(t)}}function _i(t){return function(e){return e.matches(t)}}var co=Array.prototype.find;function ho(t){return function(){return co.call(this.children,t)}}function go(){return this.firstElementChild}function vo(t){return this.select(t==null?go:ho(typeof t=="function"?t:_i(t)))}var mo=Array.prototype.filter;function po(){return Array.from(this.children)}function _o(t){return function(){return mo.call(this.children,t)}}function yo(t){return this.selectAll(t==null?po:_o(typeof t=="function"?t:_i(t)))}function xo(t){typeof t!="function"&&(t=pi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,s=0;s<o;++s)(l=a[s])&&t.call(l,l.__data__,s,a)&&u.push(l);return new vt(r,this._parents)}function yi(t){return new Array(t.length)}function wo(){return new vt(this._enter||this._groups.map(yi),this._parents)}function Ye(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ye.prototype={constructor:Ye,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function bo(t){return function(){return t}}function Mo(t,e,n,r,i,a){for(var o=0,u,l=e.length,s=a.length;o<s;++o)(u=e[o])?(u.__data__=a[o],r[o]=u):n[o]=new Ye(t,a[o]);for(;o<l;++o)(u=e[o])&&(i[o]=u)}function To(t,e,n,r,i,a,o){var u,l,s=new Map,c=e.length,f=a.length,h=new Array(c),d;for(u=0;u<c;++u)(l=e[u])&&(h[u]=d=o.call(l,l.__data__,u,e)+"",s.has(d)?i[u]=l:s.set(d,l));for(u=0;u<f;++u)d=o.call(t,a[u],u,a)+"",(l=s.get(d))?(r[u]=l,l.__data__=a[u],s.delete(d)):n[u]=new Ye(t,a[u]);for(u=0;u<c;++u)(l=e[u])&&s.get(h[u])===l&&(i[u]=l)}function Co(t){return t.__data__}function ko(t,e){if(!arguments.length)return Array.from(this,Co);var n=e?To:Mo,r=this._parents,i=this._groups;typeof t!="function"&&(t=bo(t));for(var a=i.length,o=new Array(a),u=new Array(a),l=new Array(a),s=0;s<a;++s){var c=r[s],f=i[s],h=f.length,d=So(t.call(c,c&&c.__data__,s,r)),v=d.length,_=u[s]=new Array(v),y=o[s]=new Array(v),b=l[s]=new Array(h);n(c,f,_,y,b,d,e);for(var N=0,S=0,M,T;N<v;++N)if(M=_[N]){for(N>=S&&(S=N+1);!(T=y[S])&&++S<v;);M._next=T||null}}return o=new vt(o,r),o._enter=u,o._exit=l,o}function So(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ao(){return new vt(this._exit||this._groups.map(yi),this._parents)}function No(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function Do(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),u=new Array(i),l=0;l<o;++l)for(var s=n[l],c=r[l],f=s.length,h=u[l]=new Array(f),d,v=0;v<f;++v)(d=s[v]||c[v])&&(h[v]=d);for(;l<i;++l)u[l]=n[l];return new vt(u,this._parents)}function Uo(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Eo(t){t||(t=$o);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],u=o.length,l=i[a]=new Array(u),s,c=0;c<u;++c)(s=o[c])&&(l[c]=s);l.sort(e)}return new vt(i,this._parents).order()}function $o(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Fo(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ro(){return Array.from(this)}function Io(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Po(){let t=0;for(const e of this)++t;return t}function Lo(){return!this.node()}function Ho(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,u;a<o;++a)(u=i[a])&&t.call(u,u.__data__,a,i);return this}function Yo(t){return function(){this.removeAttribute(t)}}function Oo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zo(t,e){return function(){this.setAttribute(t,e)}}function Wo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function qo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Vo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Bo(t,e){var n=en(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Oo:Yo:typeof e=="function"?n.local?Vo:qo:n.local?Wo:zo)(n,e))}function xi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Xo(t){return function(){this.style.removeProperty(t)}}function Zo(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Go(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Qo(t,e,n){return arguments.length>1?this.each((e==null?Xo:typeof e=="function"?Go:Zo)(t,e,n??"")):te(this.node(),t)}function te(t,e){return t.style.getPropertyValue(e)||xi(t).getComputedStyle(t,null).getPropertyValue(e)}function Jo(t){return function(){delete this[t]}}function Ko(t,e){return function(){this[t]=e}}function jo(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ts(t,e){return arguments.length>1?this.each((e==null?Jo:typeof e=="function"?jo:Ko)(t,e)):this.node()[t]}function wi(t){return t.trim().split(/^|\s+/)}function Vn(t){return t.classList||new bi(t)}function bi(t){this._node=t,this._names=wi(t.getAttribute("class")||"")}bi.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Mi(t,e){for(var n=Vn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ti(t,e){for(var n=Vn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function es(t){return function(){Mi(this,t)}}function ns(t){return function(){Ti(this,t)}}function rs(t,e){return function(){(e.apply(this,arguments)?Mi:Ti)(this,t)}}function is(t,e){var n=wi(t+"");if(arguments.length<2){for(var r=Vn(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?rs:e?es:ns)(n,e))}function as(){this.textContent=""}function os(t){return function(){this.textContent=t}}function ss(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function us(t){return arguments.length?this.each(t==null?as:(typeof t=="function"?ss:os)(t)):this.node().textContent}function ls(){this.innerHTML=""}function fs(t){return function(){this.innerHTML=t}}function cs(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function hs(t){return arguments.length?this.each(t==null?ls:(typeof t=="function"?cs:fs)(t)):this.node().innerHTML}function ds(){this.nextSibling&&this.parentNode.appendChild(this)}function gs(){return this.each(ds)}function vs(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ms(){return this.each(vs)}function ps(t){var e=typeof t=="function"?t:vi(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function _s(){return null}function ys(t,e){var n=typeof t=="function"?t:vi(t),r=e==null?_s:typeof e=="function"?e:qn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function xs(){var t=this.parentNode;t&&t.removeChild(this)}function ws(){return this.each(xs)}function bs(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ms(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ts(t){return this.select(t?Ms:bs)}function Cs(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ks(t){return function(e){t.call(this,e,this.__data__)}}function Ss(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function As(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function Ns(t,e,n){return function(){var r=this.__on,i,a=ks(e);if(r){for(var o=0,u=r.length;o<u;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Ds(t,e,n){var r=Ss(t+""),i,a=r.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,s=u.length,c;l<s;++l)for(i=0,c=u[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(u=e?Ns:As,i=0;i<a;++i)this.each(u(r[i],e,n));return this}function Ci(t,e,n){var r=xi(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Us(t,e){return function(){return Ci(this,t,e)}}function Es(t,e){return function(){return Ci(this,t,e.apply(this,arguments))}}function $s(t,e){return this.each((typeof e=="function"?Es:Us)(t,e))}function*Fs(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var ki=[null];function vt(t,e){this._groups=t,this._parents=e}function Ce(){return new vt([[document.documentElement]],ki)}function Rs(){return this}vt.prototype=Ce.prototype={constructor:vt,select:oo,selectAll:fo,selectChild:vo,selectChildren:yo,filter:xo,data:ko,enter:wo,exit:Ao,join:No,merge:Do,selection:Rs,order:Uo,sort:Eo,call:Fo,nodes:Ro,node:Io,size:Po,empty:Lo,each:Ho,attr:Bo,style:Qo,property:ts,classed:is,text:us,html:hs,raise:gs,lower:ms,append:ps,insert:ys,remove:ws,clone:Ts,datum:Cs,on:Ds,dispatch:$s,[Symbol.iterator]:Fs};function ee(t){return typeof t=="string"?new vt([[document.querySelector(t)]],[document.documentElement]):new vt([[t]],ki)}function Bn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Si(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ke(){}var be=.7,Oe=1/be,Kt="\\s*([+-]?\\d+)\\s*",Me="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Is=/^#([0-9a-f]{3,8})$/,Ps=new RegExp(`^rgb\\(${Kt},${Kt},${Kt}\\)$`),Ls=new RegExp(`^rgb\\(${Nt},${Nt},${Nt}\\)$`),Hs=new RegExp(`^rgba\\(${Kt},${Kt},${Kt},${Me}\\)$`),Ys=new RegExp(`^rgba\\(${Nt},${Nt},${Nt},${Me}\\)$`),Os=new RegExp(`^hsl\\(${Me},${Nt},${Nt}\\)$`),zs=new RegExp(`^hsla\\(${Me},${Nt},${Nt},${Me}\\)$`),mr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bn(ke,Wt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pr,formatHex:pr,formatHex8:Ws,formatHsl:qs,formatRgb:_r,toString:_r});function pr(){return this.rgb().formatHex()}function Ws(){return this.rgb().formatHex8()}function qs(){return Ai(this).formatHsl()}function _r(){return this.rgb().formatRgb()}function Wt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Is.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?yr(e):n===3?new ht(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ne(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ne(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ps.exec(t))?new ht(e[1],e[2],e[3],1):(e=Ls.exec(t))?new ht(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hs.exec(t))?Ne(e[1],e[2],e[3],e[4]):(e=Ys.exec(t))?Ne(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Os.exec(t))?br(e[1],e[2]/100,e[3]/100,1):(e=zs.exec(t))?br(e[1],e[2]/100,e[3]/100,e[4]):mr.hasOwnProperty(t)?yr(mr[t]):t==="transparent"?new ht(NaN,NaN,NaN,0):null}function yr(t){return new ht(t>>16&255,t>>8&255,t&255,1)}function Ne(t,e,n,r){return r<=0&&(t=e=n=NaN),new ht(t,e,n,r)}function Vs(t){return t instanceof ke||(t=Wt(t)),t?(t=t.rgb(),new ht(t.r,t.g,t.b,t.opacity)):new ht}function Dn(t,e,n,r){return arguments.length===1?Vs(t):new ht(t,e,n,r??1)}function ht(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Bn(ht,Dn,Si(ke,{brighter(t){return t=t==null?Oe:Math.pow(Oe,t),new ht(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?be:Math.pow(be,t),new ht(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ht(zt(this.r),zt(this.g),zt(this.b),ze(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xr,formatHex:xr,formatHex8:Bs,formatRgb:wr,toString:wr}));function xr(){return`#${Ot(this.r)}${Ot(this.g)}${Ot(this.b)}`}function Bs(){return`#${Ot(this.r)}${Ot(this.g)}${Ot(this.b)}${Ot((isNaN(this.opacity)?1:this.opacity)*255)}`}function wr(){const t=ze(this.opacity);return`${t===1?"rgb(":"rgba("}${zt(this.r)}, ${zt(this.g)}, ${zt(this.b)}${t===1?")":`, ${t})`}`}function ze(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function zt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ot(t){return t=zt(t),(t<16?"0":"")+t.toString(16)}function br(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wt(t,e,n,r)}function Ai(t){if(t instanceof wt)return new wt(t.h,t.s,t.l,t.opacity);if(t instanceof ke||(t=Wt(t)),!t)return new wt;if(t instanceof wt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,l=(a+i)/2;return u?(e===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-e)/u+2:o=(e-n)/u+4,u/=l<.5?a+i:2-a-i,o*=60):u=l>0&&l<1?0:o,new wt(o,u,l,t.opacity)}function Xs(t,e,n,r){return arguments.length===1?Ai(t):new wt(t,e,n,r??1)}function wt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Bn(wt,Xs,Si(ke,{brighter(t){return t=t==null?Oe:Math.pow(Oe,t),new wt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?be:Math.pow(be,t),new wt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ht(dn(t>=240?t-240:t+120,i,r),dn(t,i,r),dn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new wt(Mr(this.h),De(this.s),De(this.l),ze(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ze(this.opacity);return`${t===1?"hsl(":"hsla("}${Mr(this.h)}, ${De(this.s)*100}%, ${De(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Mr(t){return t=(t||0)%360,t<0?t+360:t}function De(t){return Math.max(0,Math.min(1,t||0))}function dn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Xn=t=>()=>t;function Zs(t,e){return function(n){return t+n*e}}function Gs(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Qs(t){return(t=+t)==1?Ni:function(e,n){return n-e?Gs(e,n,t):Xn(isNaN(e)?n:e)}}function Ni(t,e){var n=e-t;return n?Zs(t,n):Xn(isNaN(t)?e:t)}const We=(function t(e){var n=Qs(e);function r(i,a){var o=n((i=Dn(i)).r,(a=Dn(a)).r),u=n(i.g,a.g),l=n(i.b,a.b),s=Ni(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=u(c),i.b=l(c),i.opacity=s(c),i+""}}return r.gamma=t,r})(1);function Js(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Ks(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function js(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Zn(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function tu(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function xt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function eu(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zn(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Un=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gn=new RegExp(Un.source,"g");function nu(t){return function(){return t}}function ru(t){return function(e){return t(e)+""}}function Di(t,e){var n=Un.lastIndex=gn.lastIndex=0,r,i,a,o=-1,u=[],l=[];for(t=t+"",e=e+"";(r=Un.exec(t))&&(i=gn.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:xt(r,i)})),n=gn.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?l[0]?ru(l[0].x):nu(e):(e=l.length,function(s){for(var c=0,f;c<e;++c)u[(f=l[c]).i]=f.x(s);return u.join("")})}function Zn(t,e){var n=typeof e,r;return e==null||n==="boolean"?Xn(e):(n==="number"?xt:n==="string"?(r=Wt(e))?(e=r,We):Di:e instanceof Wt?We:e instanceof Date?tu:Ks(e)?Js:Array.isArray(e)?js:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?eu:xt)(t,e)}function iu(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Tr=180/Math.PI,En={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ui(t,e,n,r,i,a){var o,u,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Tr,skewX:Math.atan(l)*Tr,scaleX:o,scaleY:u}}var Ue;function au(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?En:Ui(e.a,e.b,e.c,e.d,e.e,e.f)}function ou(t){return t==null||(Ue||(Ue=document.createElementNS("http://www.w3.org/2000/svg","g")),Ue.setAttribute("transform",t),!(t=Ue.transform.baseVal.consolidate()))?En:(t=t.matrix,Ui(t.a,t.b,t.c,t.d,t.e,t.f))}function Ei(t,e,n,r){function i(s){return s.length?s.pop()+" ":""}function a(s,c,f,h,d,v){if(s!==f||c!==h){var _=d.push("translate(",null,e,null,n);v.push({i:_-4,x:xt(s,f)},{i:_-2,x:xt(c,h)})}else(f||h)&&d.push("translate("+f+e+h+n)}function o(s,c,f,h){s!==c?(s-c>180?c+=360:c-s>180&&(s+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:xt(s,c)})):c&&f.push(i(f)+"rotate("+c+r)}function u(s,c,f,h){s!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:xt(s,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(s,c,f,h,d,v){if(s!==f||c!==h){var _=d.push(i(d)+"scale(",null,",",null,")");v.push({i:_-4,x:xt(s,f)},{i:_-2,x:xt(c,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(s,c){var f=[],h=[];return s=t(s),c=t(c),a(s.translateX,s.translateY,c.translateX,c.translateY,f,h),o(s.rotate,c.rotate,f,h),u(s.skewX,c.skewX,f,h),l(s.scaleX,s.scaleY,c.scaleX,c.scaleY,f,h),s=c=null,function(d){for(var v=-1,_=h.length,y;++v<_;)f[(y=h[v]).i]=y.x(d);return f.join("")}}}var su=Ei(au,"px, ","px)","deg)"),uu=Ei(ou,", ",")",")"),ne=0,_e=0,he=0,$i=1e3,qe,ye,Ve=0,qt=0,nn=0,Te=typeof performance=="object"&&performance.now?performance:Date,Fi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Gn(){return qt||(Fi(lu),qt=Te.now()+nn)}function lu(){qt=0}function Be(){this._call=this._time=this._next=null}Be.prototype=Ri.prototype={constructor:Be,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Gn():+n)+(e==null?0:+e),!this._next&&ye!==this&&(ye?ye._next=this:qe=this,ye=this),this._call=t,this._time=n,$n()},stop:function(){this._call&&(this._call=null,this._time=1/0,$n())}};function Ri(t,e,n){var r=new Be;return r.restart(t,e,n),r}function fu(){Gn(),++ne;for(var t=qe,e;t;)(e=qt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ne}function Cr(){qt=(Ve=Te.now())+nn,ne=_e=0;try{fu()}finally{ne=0,hu(),qt=0}}function cu(){var t=Te.now(),e=t-Ve;e>$i&&(nn-=e,Ve=t)}function hu(){for(var t,e=qe,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:qe=n);ye=t,$n(r)}function $n(t){if(!ne){_e&&(_e=clearTimeout(_e));var e=t-qt;e>24?(t<1/0&&(_e=setTimeout(Cr,t-Te.now()-nn)),he&&(he=clearInterval(he))):(he||(Ve=Te.now(),he=setInterval(cu,$i)),ne=1,Fi(Cr))}}function kr(t,e,n){var r=new Be;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var du=gi("start","end","cancel","interrupt"),gu=[],Ii=0,Sr=1,Fn=2,Ie=3,Ar=4,Rn=5,Pe=6;function rn(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;vu(t,n,{name:e,index:r,group:i,on:du,tween:gu,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ii})}function Qn(t,e){var n=Ct(t,e);if(n.state>Ii)throw new Error("too late; already scheduled");return n}function Ut(t,e){var n=Ct(t,e);if(n.state>Ie)throw new Error("too late; already running");return n}function Ct(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function vu(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Ri(a,0,n.time);function a(s){n.state=Sr,n.timer.restart(o,n.delay,n.time),n.delay<=s&&o(s-n.delay)}function o(s){var c,f,h,d;if(n.state!==Sr)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===Ie)return kr(o);d.state===Ar?(d.state=Pe,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Pe,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(kr(function(){n.state===Ie&&(n.state=Ar,n.timer.restart(u,n.delay,n.time),u(s))}),n.state=Fn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Fn){for(n.state=Ie,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function u(s){for(var c=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(l),n.state=Rn,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);n.state===Rn&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Pe,n.timer.stop(),delete r[e];for(var s in r)return;delete t.__transition}}function mu(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>Fn&&r.state<Rn,r.state=Pe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function pu(t){return this.each(function(){mu(this,t)})}function _u(t,e){var n,r;return function(){var i=Ut(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,u=r.length;o<u;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function yu(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Ut(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:e,value:n},l=0,s=i.length;l<s;++l)if(i[l].name===e){i[l]=u;break}l===s&&i.push(u)}a.tween=i}}function xu(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ct(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?_u:yu)(n,t,e))}function Jn(t,e,n){var r=t._id;return t.each(function(){var i=Ut(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ct(i,r).value[e]}}function Pi(t,e){var n;return(typeof e=="number"?xt:e instanceof Wt?We:(n=Wt(e))?(e=n,We):Di)(t,e)}function wu(t){return function(){this.removeAttribute(t)}}function bu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mu(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function Tu(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function Cu(t,e,n){var r,i,a;return function(){var o,u=n(this),l;return u==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=u+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u)))}}function ku(t,e,n){var r,i,a;return function(){var o,u=n(this),l;return u==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=u+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u)))}}function Su(t,e){var n=en(t),r=n==="transform"?uu:Pi;return this.attrTween(t,typeof e=="function"?(n.local?ku:Cu)(n,r,Jn(this,"attr."+t,e)):e==null?(n.local?bu:wu)(n):(n.local?Tu:Mu)(n,r,e))}function Au(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Nu(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Du(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Nu(t,a)),n}return i._value=e,i}function Uu(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Au(t,a)),n}return i._value=e,i}function Eu(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=en(t);return this.tween(n,(r.local?Du:Uu)(r,e))}function $u(t,e){return function(){Qn(this,t).delay=+e.apply(this,arguments)}}function Fu(t,e){return e=+e,function(){Qn(this,t).delay=e}}function Ru(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$u:Fu)(e,t)):Ct(this.node(),e).delay}function Iu(t,e){return function(){Ut(this,t).duration=+e.apply(this,arguments)}}function Pu(t,e){return e=+e,function(){Ut(this,t).duration=e}}function Lu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Iu:Pu)(e,t)):Ct(this.node(),e).duration}function Hu(t,e){if(typeof e!="function")throw new Error;return function(){Ut(this,t).ease=e}}function Yu(t){var e=this._id;return arguments.length?this.each(Hu(e,t)):Ct(this.node(),e).ease}function Ou(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ut(this,t).ease=n}}function zu(t){if(typeof t!="function")throw new Error;return this.each(Ou(this._id,t))}function Wu(t){typeof t!="function"&&(t=pi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,s=0;s<o;++s)(l=a[s])&&t.call(l,l.__data__,s,a)&&u.push(l);return new It(r,this._parents,this._name,this._id)}function qu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var l=e[u],s=n[u],c=l.length,f=o[u]=new Array(c),h,d=0;d<c;++d)(h=l[d]||s[d])&&(f[d]=h);for(;u<r;++u)o[u]=e[u];return new It(o,this._parents,this._name,this._id)}function Vu(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Bu(t,e,n){var r,i,a=Vu(e)?Qn:Ut;return function(){var o=a(this,t),u=o.on;u!==r&&(i=(r=u).copy()).on(e,n),o.on=i}}function Xu(t,e){var n=this._id;return arguments.length<2?Ct(this.node(),n).on.on(t):this.each(Bu(n,t,e))}function Zu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Gu(){return this.on("end.remove",Zu(this._id))}function Qu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=qn(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u=r[o],l=u.length,s=a[o]=new Array(l),c,f,h=0;h<l;++h)(c=u[h])&&(f=t.call(c,c.__data__,h,u))&&("__data__"in c&&(f.__data__=c.__data__),s[h]=f,rn(s[h],e,n,h,s,Ct(c,n)));return new It(a,this._parents,e,n)}function Ju(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mi(t));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var l=r[u],s=l.length,c,f=0;f<s;++f)if(c=l[f]){for(var h=t.call(c,c.__data__,f,l),d,v=Ct(c,n),_=0,y=h.length;_<y;++_)(d=h[_])&&rn(d,e,n,_,h,v);a.push(h),o.push(c)}return new It(a,o,e,n)}var Ku=Ce.prototype.constructor;function ju(){return new Ku(this._groups,this._parents)}function tl(t,e){var n,r,i;return function(){var a=te(this,t),o=(this.style.removeProperty(t),te(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Li(t){return function(){this.style.removeProperty(t)}}function el(t,e,n){var r,i=n+"",a;return function(){var o=te(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function nl(t,e,n){var r,i,a;return function(){var o=te(this,t),u=n(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(t),te(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u))}}function rl(t,e){var n,r,i,a="style."+e,o="end."+a,u;return function(){var l=Ut(this,t),s=l.on,c=l.value[a]==null?u||(u=Li(e)):void 0;(s!==n||i!==c)&&(r=(n=s).copy()).on(o,i=c),l.on=r}}function il(t,e,n){var r=(t+="")=="transform"?su:Pi;return e==null?this.styleTween(t,tl(t,r)).on("end.style."+t,Li(t)):typeof e=="function"?this.styleTween(t,nl(t,r,Jn(this,"style."+t,e))).each(rl(this._id,t)):this.styleTween(t,el(t,r,e),n).on("end.style."+t,null)}function al(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ol(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&al(t,o,n)),r}return a._value=e,a}function sl(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ol(t,e,n??""))}function ul(t){return function(){this.textContent=t}}function ll(t){return function(){var e=t(this);this.textContent=e??""}}function fl(t){return this.tween("text",typeof t=="function"?ll(Jn(this,"text",t)):ul(t==null?"":t+""))}function cl(t){return function(e){this.textContent=t.call(this,e)}}function hl(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&cl(i)),e}return r._value=t,r}function dl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,hl(t))}function gl(){for(var t=this._name,e=this._id,n=Hi(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,s=0;s<u;++s)if(l=o[s]){var c=Ct(l,e);rn(l,t,n,s,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new It(r,this._parents,t,n)}function vl(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var u={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var s=Ut(this,r),c=s.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(l)),s.on=e}),i===0&&a()})}var ml=0;function It(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Hi(){return++ml}var Et=Ce.prototype;It.prototype={constructor:It,select:Qu,selectAll:Ju,selectChild:Et.selectChild,selectChildren:Et.selectChildren,filter:Wu,merge:qu,selection:ju,transition:gl,call:Et.call,nodes:Et.nodes,node:Et.node,size:Et.size,empty:Et.empty,each:Et.each,on:Xu,attr:Su,attrTween:Eu,style:il,styleTween:sl,text:fl,textTween:dl,remove:Gu,tween:xu,delay:Ru,duration:Lu,ease:Yu,easeVarying:zu,end:vl,[Symbol.iterator]:Et[Symbol.iterator]};function pl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var _l={time:null,delay:0,duration:250,ease:pl};function yl(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function xl(t){var e,n;t instanceof It?(e=t._id,t=t._name):(e=Hi(),(n=_l).time=Gn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,s=0;s<u;++s)(l=o[s])&&rn(l,t,e,s,o,n||yl(l,e));return new It(r,this._parents,t,e)}Ce.prototype.interrupt=pu;Ce.prototype.transition=xl;const In=Math.PI,Pn=2*In,Yt=1e-6,wl=Pn-Yt;function Yi(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function bl(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Yi;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ml{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Yi:bl(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,l=r-e,s=i-n,c=o-e,f=u-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Yt)if(!(Math.abs(f*l-s*c)>Yt)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,v=i-u,_=l*l+s*s,y=d*d+v*v,b=Math.sqrt(_),N=Math.sqrt(h),S=a*Math.tan((In-Math.acos((_+h-y)/(2*b*N)))/2),M=S/N,T=S/b;Math.abs(M-1)>Yt&&this._append`L${e+M*c},${n+M*f}`,this._append`A${a},${a},0,0,${+(f*d>c*v)},${this._x1=e+T*l},${this._y1=n+T*s}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),l=r*Math.sin(i),s=e+u,c=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${s},${c}`:(Math.abs(this._x1-s)>Yt||Math.abs(this._y1-c)>Yt)&&this._append`L${s},${c}`,r&&(h<0&&(h=h%Pn+Pn),h>wl?this._append`A${r},${r},0,1,${f},${e-u},${n-l}A${r},${r},0,1,${f},${this._x1=s},${this._y1=c}`:h>Yt&&this._append`A${r},${r},0,${+(h>=In)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var Nr={},vn={},mn=34,de=10,pn=13;function Oi(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function Tl(t,e){var n=Oi(t);return function(r,i){return e(n(r),i,t)}}function Dr(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function ft(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Cl(t){return t<0?"-"+ft(-t,6):t>9999?"+"+ft(t,6):ft(t,4)}function kl(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Cl(t.getUTCFullYear())+"-"+ft(t.getUTCMonth()+1,2)+"-"+ft(t.getUTCDate(),2)+(i?"T"+ft(e,2)+":"+ft(n,2)+":"+ft(r,2)+"."+ft(i,3)+"Z":r?"T"+ft(e,2)+":"+ft(n,2)+":"+ft(r,2)+"Z":n||e?"T"+ft(e,2)+":"+ft(n,2)+"Z":"")}function Sl(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(f,h){var d,v,_=i(f,function(y,b){if(d)return d(y,b-1);v=y,d=h?Tl(y,h):Oi(y)});return _.columns=v||[],_}function i(f,h){var d=[],v=f.length,_=0,y=0,b,N=v<=0,S=!1;f.charCodeAt(v-1)===de&&--v,f.charCodeAt(v-1)===pn&&--v;function M(){if(N)return vn;if(S)return S=!1,Nr;var m,p=_,C;if(f.charCodeAt(p)===mn){for(;_++<v&&f.charCodeAt(_)!==mn||f.charCodeAt(++_)===mn;);return(m=_)>=v?N=!0:(C=f.charCodeAt(_++))===de?S=!0:C===pn&&(S=!0,f.charCodeAt(_)===de&&++_),f.slice(p+1,m-1).replace(/""/g,'"')}for(;_<v;){if((C=f.charCodeAt(m=_++))===de)S=!0;else if(C===pn)S=!0,f.charCodeAt(_)===de&&++_;else if(C!==n)continue;return f.slice(p,m)}return N=!0,f.slice(p,v)}for(;(b=M())!==vn;){for(var T=[];b!==Nr&&b!==vn;)T.push(b),b=M();h&&(T=h(T,y++))==null||d.push(T)}return d}function a(f,h){return f.map(function(d){return h.map(function(v){return c(d[v])}).join(t)})}function o(f,h){return h==null&&(h=Dr(f)),[h.map(c).join(t)].concat(a(f,h)).join(`
`)}function u(f,h){return h==null&&(h=Dr(f)),a(f,h).join(`
`)}function l(f){return f.map(s).join(`
`)}function s(f){return f.map(c).join(t)}function c(f){return f==null?"":f instanceof Date?kl(f):e.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:u,formatRows:l,formatRow:s,formatValue:c}}var Al=Sl(","),Nl=Al.parse;function Dl(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Ul(t,e){return fetch(t,e).then(Dl)}function El(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Ul(e,n).then(function(i){return t(i,r)})}}var $l=El(Nl);function Fl(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Xe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function re(t){return t=Xe(Math.abs(t)),t?t[1]:NaN}function Rl(t,e){return function(n,r){for(var i=n.length,a=[],o=0,u=t[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),a.push(n.substring(i-=u,i+u)),!((l+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Il(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Pl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ze(t){if(!(e=Pl.exec(t)))throw new Error("invalid format: "+t);var e;return new Kn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ze.prototype=Kn.prototype;function Kn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Kn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ll(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var zi;function Hl(t,e){var n=Xe(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(zi=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Xe(t,Math.max(0,e+a-1))[0]}function Ur(t,e){var n=Xe(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Er={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Fl,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ur(t*100,e),r:Ur,s:Hl,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $r(t){return t}var Fr=Array.prototype.map,Rr=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Yl(t){var e=t.grouping===void 0||t.thousands===void 0?$r:Rl(Fr.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?$r:Il(Fr.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function s(f){f=Ze(f);var h=f.fill,d=f.align,v=f.sign,_=f.symbol,y=f.zero,b=f.width,N=f.comma,S=f.precision,M=f.trim,T=f.type;T==="n"?(N=!0,T="g"):Er[T]||(S===void 0&&(S=12),M=!0,T="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var m=_==="$"?n:_==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",p=_==="$"?r:/[%p]/.test(T)?o:"",C=Er[T],O=/[defgprs%]/.test(T);S=S===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function B(A){var R=m,D=p,P,z,q;if(T==="c")D=C(A)+D,A="";else{A=+A;var X=A<0||1/A<0;if(A=isNaN(A)?l:C(Math.abs(A),S),M&&(A=Ll(A)),X&&+A==0&&v!=="+"&&(X=!1),R=(X?v==="("?v:u:v==="-"||v==="("?"":v)+R,D=(T==="s"?Rr[8+zi/3]:"")+D+(X&&v==="("?")":""),O){for(P=-1,z=A.length;++P<z;)if(q=A.charCodeAt(P),48>q||q>57){D=(q===46?i+A.slice(P+1):A.slice(P))+D,A=A.slice(0,P);break}}}N&&!y&&(A=e(A,1/0));var U=R.length+A.length+D.length,E=U<b?new Array(b-U+1).join(h):"";switch(N&&y&&(A=e(E+A,E.length?b-D.length:1/0),E=""),d){case"<":A=R+A+D+E;break;case"=":A=R+E+A+D;break;case"^":A=E.slice(0,U=E.length>>1)+R+A+D+E.slice(U);break;default:A=E+R+A+D;break}return a(A)}return B.toString=function(){return f+""},B}function c(f,h){var d=s((f=Ze(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(re(h)/3)))*3,_=Math.pow(10,-v),y=Rr[8+v/3];return function(b){return d(_*b)+y}}return{format:s,formatPrefix:c}}var Ee,jn,Wi;Ol({thousands:",",grouping:[3],currency:["$",""]});function Ol(t){return Ee=Yl(t),jn=Ee.format,Wi=Ee.formatPrefix,Ee}function zl(t){return Math.max(0,-re(Math.abs(t)))}function Wl(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(re(e)/3)))*3-re(Math.abs(t)))}function ql(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,re(e)-re(t))+1}function qi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vl(t){return function(){return t}}function Bl(t){return+t}var Ir=[0,1];function Qt(t){return t}function Ln(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Vl(isNaN(e)?NaN:.5)}function Xl(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Zl(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Ln(i,r),a=n(o,a)):(r=Ln(r,i),a=n(a,o)),function(u){return a(r(u))}}function Gl(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Ln(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(u){var l=za(t,u,1,r)-1;return a[l](i[l](u))}}function Vi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ql(){var t=Ir,e=Ir,n=Zn,r,i,a,o=Qt,u,l,s;function c(){var h=Math.min(t.length,e.length);return o!==Qt&&(o=Xl(t[0],t[h-1])),u=h>2?Gl:Zl,l=s=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=u(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((s||(s=u(e,t.map(r),xt)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Bl),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=iu,c()},f.clamp=function(h){return arguments.length?(o=h?!0:Qt,c()):o!==Qt},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,d){return r=h,i=d,c()}}function Bi(){return Ql()(Qt,Qt)}function Jl(t,e,n,r){var i=Sn(t,e,n),a;switch(r=Ze(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Wl(i,o))&&(r.precision=a),Wi(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ql(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=zl(i))&&(r.precision=a-(r.type==="%")*2);break}}return jn(r)}function Kl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ba(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Jl(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],u=r[a],l,s,c=10;for(u<o&&(s=o,o=u,u=s,s=i,i=a,a=s);c-- >0;){if(s=kn(o,u,n),s===l)return r[i]=o,r[a]=u,e(r);if(s>0)o=Math.floor(o/s)*s,u=Math.ceil(u/s)*s;else if(s<0)o=Math.ceil(o*s)/s,u=Math.floor(u*s)/s;else break;l=s}return t},t}function an(){var t=Bi();return t.copy=function(){return Vi(t,an())},qi.apply(t,arguments),Kl(t)}function jl(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}const _n=new Date,yn=new Date;function j(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const l=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return l;let s;do l.push(s=new Date(+a)),e(a,u),t(a);while(s<a&&a<o);return l},i.filter=a=>j(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(_n.setTime(+a),yn.setTime(+o),t(_n),t(yn),Math.floor(n(_n,yn))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ge=j(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ge.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?j(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ge);Ge.range;const Ft=1e3,mt=Ft*60,Rt=mt*60,Pt=Rt*24,tr=Pt*7,Pr=Pt*30,xn=Pt*365,Jt=j(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ft)},(t,e)=>(e-t)/Ft,t=>t.getUTCSeconds());Jt.range;const er=j(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ft)},(t,e)=>{t.setTime(+t+e*mt)},(t,e)=>(e-t)/mt,t=>t.getMinutes());er.range;const tf=j(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*mt)},(t,e)=>(e-t)/mt,t=>t.getUTCMinutes());tf.range;const nr=j(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ft-t.getMinutes()*mt)},(t,e)=>{t.setTime(+t+e*Rt)},(t,e)=>(e-t)/Rt,t=>t.getHours());nr.range;const ef=j(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Rt)},(t,e)=>(e-t)/Rt,t=>t.getUTCHours());ef.range;const Se=j(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*mt)/Pt,t=>t.getDate()-1);Se.range;const rr=j(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pt,t=>t.getUTCDate()-1);rr.range;const nf=j(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pt,t=>Math.floor(t/Pt));nf.range;function Bt(t){return j(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*mt)/tr)}const on=Bt(0),Qe=Bt(1),rf=Bt(2),af=Bt(3),ie=Bt(4),of=Bt(5),sf=Bt(6);on.range;Qe.range;rf.range;af.range;ie.range;of.range;sf.range;function Xt(t){return j(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/tr)}const Xi=Xt(0),Je=Xt(1),uf=Xt(2),lf=Xt(3),ae=Xt(4),ff=Xt(5),cf=Xt(6);Xi.range;Je.range;uf.range;lf.range;ae.range;ff.range;cf.range;const Ae=j(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Ae.range;const hf=j(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hf.range;const Dt=j(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Dt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:j(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Dt.range;const Vt=j(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:j(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vt.range;function df(t,e,n,r,i,a){const o=[[Jt,1,Ft],[Jt,5,5*Ft],[Jt,15,15*Ft],[Jt,30,30*Ft],[a,1,mt],[a,5,5*mt],[a,15,15*mt],[a,30,30*mt],[i,1,Rt],[i,3,3*Rt],[i,6,6*Rt],[i,12,12*Rt],[r,1,Pt],[r,2,2*Pt],[n,1,tr],[e,1,Pr],[e,3,3*Pr],[t,1,xn]];function u(s,c,f){const h=c<s;h&&([s,c]=[c,s]);const d=f&&typeof f.range=="function"?f:l(s,c,f),v=d?d.range(s,+c+1):[];return h?v.reverse():v}function l(s,c,f){const h=Math.abs(c-s)/f,d=Yn(([,,y])=>y).right(o,h);if(d===o.length)return t.every(Sn(s/xn,c/xn,f));if(d===0)return Ge.every(Math.max(Sn(s,c,f),1));const[v,_]=o[h/o[d-1][2]<o[d][2]/h?d-1:d];return v.every(_)}return[u,l]}const[gf,vf]=df(Dt,Ae,on,Se,nr,er);function wn(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function bn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ge(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function mf(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,l=t.shortMonths,s=ve(i),c=me(i),f=ve(a),h=me(a),d=ve(o),v=me(o),_=ve(u),y=me(u),b=ve(l),N=me(l),S={a:X,A:U,b:E,B:F,c:null,d:Wr,e:Wr,f:Hf,g:Gf,G:Jf,H:If,I:Pf,j:Lf,L:Zi,m:Yf,M:Of,p:W,q:J,Q:Br,s:Xr,S:zf,u:Wf,U:qf,V:Vf,w:Bf,W:Xf,x:null,X:null,y:Zf,Y:Qf,Z:Kf,"%":Vr},M={a:K,A:at,b:lt,B:pt,c:null,d:qr,e:qr,f:nc,g:hc,G:gc,H:jf,I:tc,j:ec,L:Qi,m:rc,M:ic,p:tt,q:_t,Q:Br,s:Xr,S:ac,u:oc,U:sc,V:uc,w:lc,W:fc,x:null,X:null,y:cc,Y:dc,Z:vc,"%":Vr},T={a:B,A,b:R,B:D,c:P,d:Or,e:Or,f:Ef,g:Yr,G:Hr,H:zr,I:zr,j:Af,L:Uf,m:Sf,M:Nf,p:O,q:kf,Q:Ff,s:Rf,S:Df,u:wf,U:bf,V:Mf,w:xf,W:Tf,x:z,X:q,y:Yr,Y:Hr,Z:Cf,"%":$f};S.x=m(n,S),S.X=m(r,S),S.c=m(e,S),M.x=m(n,M),M.X=m(r,M),M.c=m(e,M);function m(k,I){return function(L){var x=[],rt=-1,Z=0,dt=k.length,gt,Ht,ar;for(L instanceof Date||(L=new Date(+L));++rt<dt;)k.charCodeAt(rt)===37&&(x.push(k.slice(Z,rt)),(Ht=Lr[gt=k.charAt(++rt)])!=null?gt=k.charAt(++rt):Ht=gt==="e"?" ":"0",(ar=I[gt])&&(gt=ar(L,Ht)),x.push(gt),Z=rt+1);return x.push(k.slice(Z,rt)),x.join("")}}function p(k,I){return function(L){var x=ge(1900,void 0,1),rt=C(x,k,L+="",0),Z,dt;if(rt!=L.length)return null;if("Q"in x)return new Date(x.Q);if("s"in x)return new Date(x.s*1e3+("L"in x?x.L:0));if(I&&!("Z"in x)&&(x.Z=0),"p"in x&&(x.H=x.H%12+x.p*12),x.m===void 0&&(x.m="q"in x?x.q:0),"V"in x){if(x.V<1||x.V>53)return null;"w"in x||(x.w=1),"Z"in x?(Z=bn(ge(x.y,0,1)),dt=Z.getUTCDay(),Z=dt>4||dt===0?Je.ceil(Z):Je(Z),Z=rr.offset(Z,(x.V-1)*7),x.y=Z.getUTCFullYear(),x.m=Z.getUTCMonth(),x.d=Z.getUTCDate()+(x.w+6)%7):(Z=wn(ge(x.y,0,1)),dt=Z.getDay(),Z=dt>4||dt===0?Qe.ceil(Z):Qe(Z),Z=Se.offset(Z,(x.V-1)*7),x.y=Z.getFullYear(),x.m=Z.getMonth(),x.d=Z.getDate()+(x.w+6)%7)}else("W"in x||"U"in x)&&("w"in x||(x.w="u"in x?x.u%7:"W"in x?1:0),dt="Z"in x?bn(ge(x.y,0,1)).getUTCDay():wn(ge(x.y,0,1)).getDay(),x.m=0,x.d="W"in x?(x.w+6)%7+x.W*7-(dt+5)%7:x.w+x.U*7-(dt+6)%7);return"Z"in x?(x.H+=x.Z/100|0,x.M+=x.Z%100,bn(x)):wn(x)}}function C(k,I,L,x){for(var rt=0,Z=I.length,dt=L.length,gt,Ht;rt<Z;){if(x>=dt)return-1;if(gt=I.charCodeAt(rt++),gt===37){if(gt=I.charAt(rt++),Ht=T[gt in Lr?I.charAt(rt++):gt],!Ht||(x=Ht(k,L,x))<0)return-1}else if(gt!=L.charCodeAt(x++))return-1}return x}function O(k,I,L){var x=s.exec(I.slice(L));return x?(k.p=c.get(x[0].toLowerCase()),L+x[0].length):-1}function B(k,I,L){var x=d.exec(I.slice(L));return x?(k.w=v.get(x[0].toLowerCase()),L+x[0].length):-1}function A(k,I,L){var x=f.exec(I.slice(L));return x?(k.w=h.get(x[0].toLowerCase()),L+x[0].length):-1}function R(k,I,L){var x=b.exec(I.slice(L));return x?(k.m=N.get(x[0].toLowerCase()),L+x[0].length):-1}function D(k,I,L){var x=_.exec(I.slice(L));return x?(k.m=y.get(x[0].toLowerCase()),L+x[0].length):-1}function P(k,I,L){return C(k,e,I,L)}function z(k,I,L){return C(k,n,I,L)}function q(k,I,L){return C(k,r,I,L)}function X(k){return o[k.getDay()]}function U(k){return a[k.getDay()]}function E(k){return l[k.getMonth()]}function F(k){return u[k.getMonth()]}function W(k){return i[+(k.getHours()>=12)]}function J(k){return 1+~~(k.getMonth()/3)}function K(k){return o[k.getUTCDay()]}function at(k){return a[k.getUTCDay()]}function lt(k){return l[k.getUTCMonth()]}function pt(k){return u[k.getUTCMonth()]}function tt(k){return i[+(k.getUTCHours()>=12)]}function _t(k){return 1+~~(k.getUTCMonth()/3)}return{format:function(k){var I=m(k+="",S);return I.toString=function(){return k},I},parse:function(k){var I=p(k+="",!1);return I.toString=function(){return k},I},utcFormat:function(k){var I=m(k+="",M);return I.toString=function(){return k},I},utcParse:function(k){var I=p(k+="",!0);return I.toString=function(){return k},I}}}var Lr={"-":"",_:" ",0:"0"},et=/^\s*\d+/,pf=/^%/,_f=/[\\^$*+?|[\]().{}]/g;function V(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function yf(t){return t.replace(_f,"\\$&")}function ve(t){return new RegExp("^(?:"+t.map(yf).join("|")+")","i")}function me(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function xf(t,e,n){var r=et.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function wf(t,e,n){var r=et.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function bf(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Mf(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Tf(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Hr(t,e,n){var r=et.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Yr(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Cf(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kf(t,e,n){var r=et.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Sf(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Or(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Af(t,e,n){var r=et.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function zr(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Nf(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Df(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Uf(t,e,n){var r=et.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ef(t,e,n){var r=et.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $f(t,e,n){var r=pf.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ff(t,e,n){var r=et.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Rf(t,e,n){var r=et.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Wr(t,e){return V(t.getDate(),e,2)}function If(t,e){return V(t.getHours(),e,2)}function Pf(t,e){return V(t.getHours()%12||12,e,2)}function Lf(t,e){return V(1+Se.count(Dt(t),t),e,3)}function Zi(t,e){return V(t.getMilliseconds(),e,3)}function Hf(t,e){return Zi(t,e)+"000"}function Yf(t,e){return V(t.getMonth()+1,e,2)}function Of(t,e){return V(t.getMinutes(),e,2)}function zf(t,e){return V(t.getSeconds(),e,2)}function Wf(t){var e=t.getDay();return e===0?7:e}function qf(t,e){return V(on.count(Dt(t)-1,t),e,2)}function Gi(t){var e=t.getDay();return e>=4||e===0?ie(t):ie.ceil(t)}function Vf(t,e){return t=Gi(t),V(ie.count(Dt(t),t)+(Dt(t).getDay()===4),e,2)}function Bf(t){return t.getDay()}function Xf(t,e){return V(Qe.count(Dt(t)-1,t),e,2)}function Zf(t,e){return V(t.getFullYear()%100,e,2)}function Gf(t,e){return t=Gi(t),V(t.getFullYear()%100,e,2)}function Qf(t,e){return V(t.getFullYear()%1e4,e,4)}function Jf(t,e){var n=t.getDay();return t=n>=4||n===0?ie(t):ie.ceil(t),V(t.getFullYear()%1e4,e,4)}function Kf(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+V(e/60|0,"0",2)+V(e%60,"0",2)}function qr(t,e){return V(t.getUTCDate(),e,2)}function jf(t,e){return V(t.getUTCHours(),e,2)}function tc(t,e){return V(t.getUTCHours()%12||12,e,2)}function ec(t,e){return V(1+rr.count(Vt(t),t),e,3)}function Qi(t,e){return V(t.getUTCMilliseconds(),e,3)}function nc(t,e){return Qi(t,e)+"000"}function rc(t,e){return V(t.getUTCMonth()+1,e,2)}function ic(t,e){return V(t.getUTCMinutes(),e,2)}function ac(t,e){return V(t.getUTCSeconds(),e,2)}function oc(t){var e=t.getUTCDay();return e===0?7:e}function sc(t,e){return V(Xi.count(Vt(t)-1,t),e,2)}function Ji(t){var e=t.getUTCDay();return e>=4||e===0?ae(t):ae.ceil(t)}function uc(t,e){return t=Ji(t),V(ae.count(Vt(t),t)+(Vt(t).getUTCDay()===4),e,2)}function lc(t){return t.getUTCDay()}function fc(t,e){return V(Je.count(Vt(t)-1,t),e,2)}function cc(t,e){return V(t.getUTCFullYear()%100,e,2)}function hc(t,e){return t=Ji(t),V(t.getUTCFullYear()%100,e,2)}function dc(t,e){return V(t.getUTCFullYear()%1e4,e,4)}function gc(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ae(t):ae.ceil(t),V(t.getUTCFullYear()%1e4,e,4)}function vc(){return"+0000"}function Vr(){return"%"}function Br(t){return+t}function Xr(t){return Math.floor(+t/1e3)}var Zt,le,Ki;mc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mc(t){return Zt=mf(t),le=Zt.format,Ki=Zt.parse,Zt.utcFormat,Zt.utcParse,Zt}function pc(t){return new Date(t)}function _c(t){return t instanceof Date?+t:+new Date(+t)}function ji(t,e,n,r,i,a,o,u,l,s){var c=Bi(),f=c.invert,h=c.domain,d=s(".%L"),v=s(":%S"),_=s("%I:%M"),y=s("%I %p"),b=s("%a %d"),N=s("%b %d"),S=s("%B"),M=s("%Y");function T(m){return(l(m)<m?d:u(m)<m?v:o(m)<m?_:a(m)<m?y:r(m)<m?i(m)<m?b:N:n(m)<m?S:M)(m)}return c.invert=function(m){return new Date(f(m))},c.domain=function(m){return arguments.length?h(Array.from(m,_c)):h().map(pc)},c.ticks=function(m){var p=h();return t(p[0],p[p.length-1],m??10)},c.tickFormat=function(m,p){return p==null?T:s(p)},c.nice=function(m){var p=h();return(!m||typeof m.range!="function")&&(m=e(p[0],p[p.length-1],m??10)),m?h(jl(p,m)):c},c.copy=function(){return Vi(c,ji(t,e,n,r,i,a,o,u,l,s))},c}function oe(){return qi.apply(ji(gf,vf,Dt,Ae,on,Se,nr,er,Jt,le).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gt(t){return function(){return t}}function yc(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ml(e)}function xc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ta(t){this._context=t}ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function wc(t){return new ta(t)}function bc(t){return t[0]}function Mc(t){return t[1]}function ir(t,e){var n=Gt(!0),r=null,i=wc,a=null,o=yc(u);t=typeof t=="function"?t:t===void 0?bc:Gt(t),e=typeof e=="function"?e:e===void 0?Mc:Gt(e);function u(l){var s,c=(l=xc(l)).length,f,h=!1,d;for(r==null&&(a=i(d=o())),s=0;s<=c;++s)!(s<c&&n(f=l[s],s,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,s,l),+e(f,s,l));if(d)return a=null,d+""||null}return u.x=function(l){return arguments.length?(t=typeof l=="function"?l:Gt(+l),u):t},u.y=function(l){return arguments.length?(e=typeof l=="function"?l:Gt(+l),u):e},u.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Gt(!!l),u):n},u.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),u):i},u.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),u):r},u}function Zr(t){return t<0?-1:1}function Gr(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(Zr(a)+Zr(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function Qr(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Mn(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,o-u*n,a,o)}function Ke(t){this._context=t}Ke.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mn(this,this._t0,Qr(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Mn(this,Qr(this,n=Gr(this,t,e)),n);break;default:Mn(this,this._t0,n=Gr(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};Object.create(Ke.prototype).point=function(t,e){Ke.prototype.point.call(this,e,t)};function ea(t){return new Ke(t)}function na(t,e){this._context=t,this._t=e}na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Tc(t){return new na(t,1)}function xe(t,e,n){this.k=t,this.x=e,this.y=n}xe.prototype={constructor:xe,scale:function(t){return t===1?this:new xe(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new xe(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};xe.prototype;var Cc=ut('<rect opacity="0.5"></rect><text text-anchor="middle" font-size="14" font-weight="bold" fill="#666"> </text>',1),kc=ut('<line stroke="#e0e0e0" stroke-width="1"></line>'),Sc=ut('<path fill="none" stroke-width="2.5" class="line-path svelte-1bybxa9"></path><circle r="4"></circle><text font-size="12" font-weight="bold"> </text>',1),Ac=ut('<g><line x1="0" x2="30" y1="0" y2="0" stroke-width="2.5"></line><text x="35" y="4" font-size="11" fill="#333"> </text></g>'),Nc=ut('<svg><g class="backgrounds"></g><g class="grid"></g><g class="lines"></g><g></g><g></g><g class="legend"></g><text transform="rotate(-90)" text-anchor="middle" font-size="14" fill="#333">Tariff Rate (%)</text><text text-anchor="middle" font-size="14" fill="#333">Date</text></svg>'),Dc=st('<h3 style="font-family: Arial; text-align: center;">US-China Tariff Rates Toward Each Other and Rest of World (ROW)</h3> <!>',1);function Uc(t,e){se(e,!0);let n=ot(e,"progress",3,100),r=ot(e,"width",3,800),i=ot(e,"height",3,500);const a=[{key:"chinese_tariffs_row",label:"Chinese tariffs on ROW exports",color:"#8B0000",style:"dotted"},{key:"chinese_tariffs_us",label:"Chinese tariffs on US exports",color:"#DC143C",style:"solid"},{key:"us_tariffs_chinese",label:"US tariffs on Chinese exports",color:"#4169E1",style:"solid"},{key:"us_tariffs_row",label:"US tariffs on ROW exports",color:"#1E90FF",style:"dotted"}],o=Q(()=>On(e.tariffs.map(p=>p.date)));function u(p,C){return!p[0]||!p[1]?new Date:oe().domain(p).range([0,100]).invert(C)}const l=Q(()=>u(g(o),n())),s=Q(()=>e.tariffs.filter(p=>p.date<=g(l))),c={top:40,bottom:80,left:60,right:150};let f={top:c.top,right:r()-c.right,bottom:i()-c.bottom,left:c.left};const h=Q(()=>oe().domain(g(o)).range([f.left,f.right])),d=Q(()=>Math.max(150,we(e.tariffs,p=>Math.max(p.chinese_tariffs_row,p.chinese_tariffs_us,p.us_tariffs_chinese,p.us_tariffs_row))||0)),v=Q(()=>an().domain([0,g(d)]).range([f.bottom,f.top])),_=Q(()=>p=>ir().x(C=>g(h)(C.date)).y(C=>g(v)(C[p])).curve(Tc));let y=Tt(void 0),b=Tt(void 0);function N(){!g(y)||!g(b)||(ee(g(y)).call(zn(g(h)).ticks(Dt.every(1)).tickFormat(le("%Y"))).selectAll("text").attr("transform","rotate(45)").style("text-anchor","start"),ee(g(b)).call(Wn(g(v)).ticks(10).tickFormat(p=>p+"%")))}Hn(()=>{N()});const S=[{name:"Trump 1",start:new Date(2018,0,1),end:new Date(2021,0,20)},{name:"Biden",start:new Date(2021,0,20),end:new Date(2025,0,20)},{name:"Trump 2",start:new Date(2025,0,20),end:new Date(2025,11,31)}];var M=Dc(),T=$(ct(M),2);{var m=p=>{var C=Nc(),O=G(C);Mt(O,21,()=>S,bt,(X,U)=>{const E=Q(()=>Math.max(g(h)(g(U).start),f.left)),F=Q(()=>Math.min(g(h)(g(U).end),f.right)),W=Q(()=>g(F)-g(E));var J=jt(),K=ct(J);{var at=lt=>{var pt=Cc(),tt=ct(pt),_t=$(tt),k=G(_t,!0);H(_t),nt(I=>{w(tt,"x",g(E)),w(tt,"y",f.top),w(tt,"width",g(W)),w(tt,"height",f.bottom-f.top),w(tt,"fill",I),w(_t,"x",g(E)+g(W)/2),w(_t,"y",f.top+20),St(k,g(U).name)},[()=>g(U).name.includes("Trump")?"#f0f0f0":"#ffffff"]),Y(lt,pt)};At(K,lt=>{g(W)>0&&lt(at)})}Y(X,J)}),H(O);var B=$(O);Mt(B,21,()=>g(v).ticks(10),bt,(X,U)=>{var E=kc();nt((F,W)=>{w(E,"x1",f.left),w(E,"x2",f.right),w(E,"y1",F),w(E,"y2",W)},[()=>g(v)(g(U)),()=>g(v)(g(U))]),Y(X,E)}),H(B);var A=$(B);Mt(A,21,()=>a,bt,(X,U)=>{var E=jt(),F=ct(E);{var W=J=>{const K=Q(()=>g(s)[g(s).length-1]);var at=Sc(),lt=ct(at),pt=$(lt),tt=$(pt),_t=G(tt);H(tt),nt((k,I,L,x,rt,Z)=>{w(lt,"d",k),w(lt,"stroke",g(U).color),w(lt,"stroke-dasharray",g(U).style==="dotted"?"5,5":"0"),w(pt,"cx",I),w(pt,"cy",L),w(pt,"fill",g(U).color),w(tt,"x",x),w(tt,"y",rt),w(tt,"fill",g(U).color),St(_t,`${Z??""}%`)},[()=>g(_)(g(U).key)(g(s)),()=>g(h)(g(K).date),()=>g(v)(g(K)[g(U).key]),()=>g(h)(g(K).date)+5,()=>g(v)(g(K)[g(U).key])+4,()=>g(K)[g(U).key].toFixed(1)]),Y(J,at)};At(F,J=>{g(s).length>0&&J(W)})}Y(X,E)}),H(A);var R=$(A);Lt(R,X=>it(y,X),()=>g(y));var D=$(R);Lt(D,X=>it(b,X),()=>g(b));var P=$(D);Mt(P,21,()=>a,bt,(X,U,E)=>{var F=Ac();w(F,"transform",`translate(0, ${E*30})`);var W=G(F),J=$(W),K=G(J,!0);H(J),H(F),nt(()=>{w(W,"stroke",g(U).color),w(W,"stroke-dasharray",g(U).style==="dotted"?"5,5":"0"),St(K,g(U).label)}),Y(X,F)}),H(P);var z=$(P),q=$(z);H(C),nt(()=>{w(C,"width",r()),w(C,"height",i()),w(R,"transform",`translate(0, ${f.bottom??""})`),w(D,"transform",`translate(${f.left}, 0)`),w(P,"transform",`translate(${f.right+10}, ${f.top})`),w(z,"x",-(f.top+f.bottom)/2),w(z,"y",c.left-45),w(q,"x",(f.left+f.right)/2),w(q,"y",i()-10)}),Y(p,C)};At(T,p=>{e.tariffs.length>0&&p(m)})}Y(t,M),ue()}var Ec=st('<section class="scrolly svelte-1pv208e"><section class="story svelte-1pv208e"><!></section> <section class="viz svelte-1pv208e"><!></section></section>');function Le(t,e){se(e,!0);let n=ot(e,"progress",15),r=ot(e,"progressRaw",7),i=ot(e,"threshold",3,.5),a=ot(e,"margin",3,30),o=ot(e,"debounce",3,!1),u=ot(e,"throttle",3,!1),l,s,c,f,h,d,v,_;const y=(D,P,z)=>Math.min(Math.max(D,P),z),b=(D,P,z)=>100*(D-P)/(z-P),N=D=>D(),S=D=>D;let M=0,T=Q(()=>u()>0?function(D){return function(){let P=performance.now();P-M>=u()&&(D(),M=P)}}:S),m,p=Q(()=>o()?o()>0?function(D){clearTimeout(m),m=setTimeout(D,o())}:function(D){cancelAnimationFrame(m),m=requestAnimationFrame(D)}:N);jr(()=>{function D({top:q=l.getBoundingClientRect().top}={}){r(b(q,c,f)),P()}function P(){let q=y(0,r(),100);q===0||q===100?n(q):g(p)(g(T)(()=>n(q)))}function z(){d=l.getBoundingClientRect(),h=window.scrollY+d.top,c=Math.min(h,innerHeight*i())+a(),f=innerHeight-d.height+a(),D(d)}v=new IntersectionObserver(q=>{let X=q.at(-1);X.intersectionRatio,X.isIntersecting?(z(),D(),window.addEventListener("scroll",D),window.addEventListener("resize",z),_?.observe(l)):(window.removeEventListener("scroll",D),window.removeEventListener("resize",z),_?.unobserve(l))}),v.observe(l),_=new ResizeObserver(z),z()});var C=Ec(),O=G(C),B=G(O);lr(B,e,"default",{}),H(O);var A=$(O,2),R=G(A);lr(R,e,"viz",{}),H(A),Lt(A,D=>s=D,()=>s),H(C),Lt(C,D=>l=D,()=>l),nt(()=>$a(C,`--scrolly-margin: ${a()??""}`)),Y(t,C),ue()}var $c=ut('<line stroke="#e0e0e0" stroke-width="1" stroke-dasharray="3,3"></line>'),Fc=ut('<circle r="3" fill="#007bff"></circle>'),Rc=ut('<line class="annotation-line svelte-10z8crf"></line><text class="annotation-label svelte-10z8crf">Tariff 2.0 Announcement (Aug 2025)</text>',1),Ic=ut('<svg class="chart-svg svelte-10z8crf"><g class="grid-lines"></g><line class="contraction-line svelte-10z8crf"></line><text class="contraction-label svelte-10z8crf">Contraction threshold (50)</text><path class="pmi-line svelte-10z8crf"></path><!><!><g class="axes svelte-10z8crf"><g></g><g></g></g><text class="axis-label svelte-10z8crf" transform="rotate(-90)" dy="1em">PMI Value</text><text class="axis-label svelte-10z8crf" text-anchor="middle">Date</text></svg>');function Pc(t,e){se(e,!0);let n=ot(e,"progress",3,100),r=ot(e,"width",3,900),i=ot(e,"height",3,500);const a={top:40,right:30,bottom:60,left:60},o={top:a.top,right:r()-a.right,bottom:i()-a.bottom,left:a.left},u=Q(()=>On(e.data,M=>M.date));function l(M,T){return!M[0]||!M[1]?new Date:oe().domain(M).range([0,100]).invert(T)}const s=Q(()=>l(g(u),n())),c=Q(()=>e.data.filter(M=>M.date<=g(s))),f=Q(()=>oe().domain(g(u)).range([o.left,o.right])),h=Q(()=>an().domain([Xa(e.data,M=>M.pmi)-2||40,we(e.data,M=>M.pmi)+2||55]).range([o.bottom,o.top])),d=Q(()=>ir().x(M=>g(f)(M.date)).y(M=>g(h)(M.pmi)).curve(ea)),v=new Date("2025-08-01");let _=Tt(void 0),y=Tt(void 0);Hn(()=>{g(_)&&ee(g(_)).call(zn(g(f)).ticks(Ae.every(2)).tickFormat(le("%Y-%m"))).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),g(y)&&ee(g(y)).call(Wn(g(h)))});var b=jt(),N=ct(b);{var S=M=>{var T=Ic(),m=G(T);Mt(m,21,()=>g(h).ticks(10),bt,(U,E)=>{var F=$c();nt((W,J)=>{w(F,"x1",o.left),w(F,"x2",o.right),w(F,"y1",W),w(F,"y2",J)},[()=>g(h)(g(E)),()=>g(h)(g(E))]),Y(U,F)}),H(m);var p=$(m),C=$(p),O=$(C),B=$(O);Mt(B,17,()=>g(c),bt,(U,E)=>{var F=Fc();nt((W,J)=>{w(F,"cx",W),w(F,"cy",J)},[()=>g(f)(g(E).date),()=>g(h)(g(E).pmi)]),Y(U,F)});var A=$(B);{var R=U=>{var E=Rc(),F=ct(E),W=$(F);nt((J,K,at)=>{w(F,"x1",J),w(F,"y1",o.top),w(F,"x2",K),w(F,"y2",o.bottom),w(W,"x",at),w(W,"y",o.top+15)},[()=>g(f)(v),()=>g(f)(v),()=>g(f)(v)+5]),Y(U,E)};At(A,U=>{g(s)>=v&&U(R)})}var D=$(A),P=G(D);Lt(P,U=>it(_,U),()=>g(_));var z=$(P);Lt(z,U=>it(y,U),()=>g(y)),H(D);var q=$(D),X=$(q);H(T),nt((U,E,F,W)=>{w(T,"width",r()),w(T,"height",i()),w(p,"x1",o.left),w(p,"y1",U),w(p,"x2",o.right),w(p,"y2",E),w(C,"x",o.right-10),w(C,"y",F),w(O,"d",W),w(P,"transform",`translate(0, ${o.bottom??""})`),w(z,"transform",`translate(${o.left}, 0)`),w(q,"y",a.left-40),w(q,"x",-(o.top+o.bottom)/2),w(X,"y",i()-10),w(X,"x",(o.left+o.right)/2)},[()=>g(h)(50),()=>g(h)(50),()=>g(h)(50)-5,()=>g(d)(g(c))]),Y(M,T)};At(N,M=>{e.data.length>0&&M(S)})}Y(t,b),ue()}var Lc=ut('<line stroke="#e0e0e0" stroke-width="1" stroke-dasharray="3,3"></line>'),Hc=ut('<circle r="3"></circle>'),Yc=ut('<path class="teu-line svelte-c3vo9y" stroke-width="2.5" fill="none"></path><!>',1),Oc=ut('<line class="annotation-line svelte-c3vo9y"></line><text class="annotation-label svelte-c3vo9y">Tariff Effective Date</text>',1),zc=ut('<g><line x1="0" x2="30" y1="0" y2="0" stroke-width="2.5"></line><text x="35" y="4" font-size="12" fill="#333"> </text></g>'),Wc=ut('<svg class="chart-svg svelte-c3vo9y"><g class="grid-lines"></g><!><!><g class="axes svelte-c3vo9y"><g></g><g></g></g><g class="legend"></g><text class="axis-label svelte-c3vo9y" transform="rotate(-90)" dy="1em">Container Throughput (TEU)</text><text class="axis-label svelte-c3vo9y" text-anchor="middle">Date</text></svg>');function qc(t,e){se(e,!0);let n=ot(e,"progress",3,100),r=ot(e,"width",3,900),i=ot(e,"height",3,500);const a={top:40,right:150,bottom:60,left:60},o={top:a.top,right:r()-a.right,bottom:i()-a.bottom,left:a.left},u=Q(()=>On(e.data,m=>m.date));function l(m,p){return!m[0]||!m[1]?new Date:oe().domain(m).range([0,100]).invert(p)}const s=Q(()=>l(g(u),n())),c=Q(()=>e.data.filter(m=>m.date<=g(s))),f=Q(()=>oe().domain(g(u)).range([o.left,o.right])),h=Q(()=>Math.max(we(e.data,m=>m.longBeach)||0,we(e.data,m=>m.losAngeles)||0,we(e.data,m=>m.nyNj)||0)),d=Q(()=>an().domain([0,g(h)]).range([o.bottom,o.top]).nice()),v=[{key:"longBeach",label:"Long Beach, CA",color:"#4169E1"},{key:"losAngeles",label:"Los Angeles, CA",color:"#FF6347"},{key:"nyNj",label:"New York/New Jersey",color:"#32CD32"}],_=Q(()=>m=>ir().x(p=>g(f)(p.date)).y(p=>g(d)(p[m])).curve(ea)),y=new Date("2025-08-01");let b=Tt(void 0),N=Tt(void 0);Hn(()=>{g(b)&&ee(g(b)).call(zn(g(f)).ticks(Ae.every(3)).tickFormat(le("%Y-%m"))).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),g(N)&&ee(g(N)).call(Wn(g(d)).tickFormat(jn(".2s")))});var S=jt(),M=ct(S);{var T=m=>{var p=Wc(),C=G(p);Mt(C,21,()=>g(d).ticks(10),bt,(U,E)=>{var F=Lc();nt((W,J)=>{w(F,"x1",o.left),w(F,"x2",o.right),w(F,"y1",W),w(F,"y2",J)},[()=>g(d)(g(E)),()=>g(d)(g(E))]),Y(U,F)}),H(C);var O=$(C);Mt(O,17,()=>v,bt,(U,E)=>{var F=jt(),W=ct(F);{var J=K=>{var at=Yc(),lt=ct(at),pt=$(lt);Mt(pt,17,()=>g(c),bt,(tt,_t)=>{var k=Hc();nt((I,L)=>{w(k,"cx",I),w(k,"cy",L),w(k,"fill",g(E).color)},[()=>g(f)(g(_t).date),()=>g(d)(g(_t)[g(E).key])]),Y(tt,k)}),nt(tt=>{w(lt,"d",tt),w(lt,"stroke",g(E).color)},[()=>g(_)(g(E).key)(g(c))]),Y(K,at)};At(W,K=>{g(c).length>0&&K(J)})}Y(U,F)});var B=$(O);{var A=U=>{var E=Oc(),F=ct(E),W=$(F);nt((J,K,at)=>{w(F,"x1",J),w(F,"y1",o.top),w(F,"x2",K),w(F,"y2",o.bottom),w(W,"x",at),w(W,"y",o.top+15)},[()=>g(f)(y),()=>g(f)(y),()=>g(f)(y)+5]),Y(U,E)};At(B,U=>{g(s)>=y&&U(A)})}var R=$(B),D=G(R);Lt(D,U=>it(b,U),()=>g(b));var P=$(D);Lt(P,U=>it(N,U),()=>g(N)),H(R);var z=$(R);Mt(z,21,()=>v,bt,(U,E,F)=>{var W=zc();w(W,"transform",`translate(0, ${F*30})`);var J=G(W),K=$(J),at=G(K,!0);H(K),H(W),nt(()=>{w(J,"stroke",g(E).color),St(at,g(E).label)}),Y(U,W)}),H(z);var q=$(z),X=$(q);H(p),nt(()=>{w(p,"width",r()),w(p,"height",i()),w(D,"transform",`translate(0, ${o.bottom??""})`),w(P,"transform",`translate(${o.left}, 0)`),w(z,"transform",`translate(${o.right+10}, ${o.top})`),w(q,"y",a.left-40),w(q,"x",-(o.top+o.bottom)/2),w(X,"y",i()-10),w(X,"x",(o.left+o.right)/2)}),Y(m,p)};At(M,m=>{e.data.length>0&&m(T)})}Y(t,S),ue()}function Vc(t){const e=t-1;return e*e*e+1}function Jr(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function Kr(t,{delay:e=0,duration:n=400,easing:r=Vc,x:i=0,y:a=0,opacity:o=0}={}){const u=getComputedStyle(t),l=+u.opacity,s=u.transform==="none"?"":u.transform,c=l*(1-o),[f,h]=Jr(i),[d,v]=Jr(a);return{delay:e,duration:n,easing:r,css:(_,y)=>`
			transform: ${s} translate(${(1-_)*f}${h}, ${(1-_)*d}${v});
			opacity: ${l-c*y}`}}var Bc=st('<div id="virtual" class="svelte-1lx6fal"></div>'),Xc=st('<p class="svelte-1lx6fal">[Placeholder: Explore the evolution of US-China trade relations from 2018 to 2025 through interactive data visualizations]</p>'),Zc=st('<p class="svelte-1lx6fal">[Placeholder: Scroll to discover how tariffs shaped global commerce]</p>'),Gc=st('<div slot="viz" class="header svelte-1lx6fal"><div class="content-overlay svelte-1lx6fal"><h1 class="svelte-1lx6fal">The Trade War Timeline</h1> <!> <!></div></div>'),Qc=st('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Jc(t){let e=Tt(0);var n=Qc(),r=ct(n);Na(r,()=>({"--scrolly-story-width":"0"})),Le(r.lastChild,{get progress(){return g(e)},set progress(i){it(e,i,!0)},children:(i,a)=>{var o=Bc();Y(i,o)},$$slots:{default:!0,viz:(i,a)=>{var o=Gc(),u=G(o),l=$(G(u),2);{var s=h=>{var d=Xc();hr(1,d,()=>Kr,()=>({duration:1500,y:50,delay:200})),Y(h,d)};At(l,h=>{g(e)>20&&h(s)})}var c=$(l,2);{var f=h=>{var d=Zc();hr(1,d,()=>Kr,()=>({duration:1500,y:50,delay:300})),Y(h,d)};At(c,h=>{g(e)>50&&h(f)})}H(u),H(o),Y(i,o)}}}),H(r),Y(t,n)}var Kc=st('<div class="tariff-event svelte-1m1ievu"><h3 class="date svelte-1m1ievu"> </h3> <p class="tariff-action svelte-1m1ievu"> </p> <div class="tariff-rates svelte-1m1ievu"><p class="svelte-1m1ievu"><strong class="svelte-1m1ievu">Chinese tariffs on US exports:</strong> </p> <p class="svelte-1m1ievu"><strong class="svelte-1m1ievu">US tariffs on Chinese exports:</strong> </p> <p class="svelte-1m1ievu"><strong class="svelte-1m1ievu">Chinese tariffs on ROW exports:</strong> </p> <p class="svelte-1m1ievu"><strong class="svelte-1m1ievu">US tariffs on ROW exports:</strong> </p></div></div>'),jc=st('<div slot="viz"><!></div>'),th=st(`<div class="info-section svelte-1m1ievu"><h3 class="svelte-1m1ievu">Key Insight</h3> <p class="svelte-1m1ievu">Manufacturing PMI (Purchasing Managers' Index) is a key economic indicator. A value above 50 indicates expansion, 
      while below 50 indicates contraction. The tariff announcement in August 2025 coincided with a sharp drop below this threshold.</p></div>`),eh=st('<div slot="viz"><!></div>'),nh=st(`<div class="info-section svelte-1m1ievu"><h3 class="svelte-1m1ievu">Key Insight</h3> <p class="svelte-1m1ievu">TEU (Twenty-foot Equivalent Unit) measures container volume. The front-loading effect shows how businesses anticipated 
      the tariff implementation by increasing imports in the months leading up to the effective date.</p></div>`),rh=st('<div slot="viz"><!></div>'),ih=st(`<h2>US-China Trade Timeline Visualization</h2> <p>Explore the evolution of tariff rates between the US, China, and the rest of the world (ROW)
  from 2018 to 2025. Scroll down to see how tariffs changed over time with each significant
  trade action.</p> <!> <div class="section-divider svelte-1m1ievu"></div> <h2>Manufacturing Contraction After Tariff Announcement</h2> <p>The ISM Manufacturing PMI dropped below the critical 50-point threshold following the tariff announcement in August 2025, signaling a contraction in the manufacturing sector.</p> <!> <div class="section-divider svelte-1m1ievu"></div> <h2>Front-loading Effect at U.S. Ports</h2> <p>Container throughput surged at major U.S. ports before the tariff effective date, as importers rushed to bring goods in before tariffs took effect.</p> <!>`,1);function ah(t,e){se(e,!0);let n=Tt(0);const r=Q(()=>e.tariffs.filter(s=>s.tariff_action&&s.tariff_action!=="")),i=500;var a=ih(),o=$(ct(a),4);Le(o,{get progress(){return g(n)},set progress(s){it(n,s,!0)},children:(s,c)=>{var f=jt(),h=ct(f);Mt(h,17,()=>g(r),bt,(d,v)=>{var _=Kc(),y=G(_),b=G(y,!0);H(y);var N=$(y,2),S=G(N,!0);H(N);var M=$(N,2),T=G(M),m=$(G(T));H(T);var p=$(T,2),C=$(G(p));H(p);var O=$(p,2),B=$(G(O));H(O);var A=$(O,2),R=$(G(A));H(A),H(M),H(_),nt((D,P,z,q,X)=>{St(b,D),St(S,g(v).tariff_action),St(m,` ${P??""}%`),St(C,` ${z??""}%`),St(B,` ${q??""}%`),St(R,` ${X??""}%`)},[()=>le("%B %d, %Y")(g(v).date),()=>g(v).chinese_tariffs_us.toFixed(1),()=>g(v).us_tariffs_chinese.toFixed(1),()=>g(v).chinese_tariffs_row.toFixed(1),()=>g(v).us_tariffs_row.toFixed(1)]),Y(d,_)}),Y(s,f)},$$slots:{default:!0,viz:(s,c)=>{var f=jc(),h=G(f);Uc(h,{get tariffs(){return e.tariffs},get progress(){return g(n)},height:i,width:900}),H(f),Y(s,f)}}});var u=$(o,8);Le(u,{get progress(){return g(n)},set progress(s){it(n,s,!0)},children:(s,c)=>{var f=th();Y(s,f)},$$slots:{default:!0,viz:(s,c)=>{var f=eh(),h=G(f);Pc(h,{get data(){return e.pmiData},get progress(){return g(n)},height:i,width:900}),H(f),Y(s,f)}}});var l=$(u,8);Le(l,{get progress(){return g(n)},set progress(s){it(n,s,!0)},children:(s,c)=>{var f=nh();Y(s,f)},$$slots:{default:!0,viz:(s,c)=>{var f=rh(),h=G(f);qc(h,{get data(){return e.teuData},get progress(){return g(n)},height:i,width:900}),H(f),Y(s,f)}}}),Y(t,a),ue()}var oh=st('<div class="container svelte-urn6fi"><!> <!></div>');function dh(t,e){se(e,!0);let n=Tt(ln([])),r=Tt(ln([])),i=Tt(ln([]));async function a(){try{it(n,await $l("/CSCI5609_Project_Dataset - Sheet1.csv",h=>{const d=h.Date;let v;return d&&d.includes("-")?v=Ki("%d-%b-%y")(d)||new Date:d?v=new Date(d):v=new Date,{tariff_action:h["Tariff action"],date:v,chinese_tariffs_row:Number(h["Chinese tariffs on ROW exports"]),chinese_tariffs_us:Number(h["Chinese tariffs on US exports"]),us_tariffs_chinese:Number(h["US tariffs on Chinese exports"]),us_tariffs_row:Number(h["US tariffs on ROW exports"])}}),!0),it(n,[...g(n)],!0)}catch(f){console.error("Error loading tariff CSV:",f)}}async function o(){try{const _=(await(await fetch("/data/USA ISM PMI 2024-2025.csv")).text()).trim().split(`
`).slice(1);it(r,_.map(y=>{const b=y.trim().split(/\s+/);if(b.length<2)return null;const N=b[0],[S,M]=N.split("-");return{date:new Date(parseInt(S),parseInt(M)-1,1),pmi:Number(b[1])||0,employment:b[2]?Number(b[2]):void 0,price:b[3]?Number(b[3]):void 0,exportOrders:b[4]?Number(b[4]):void 0}}).filter(y=>y!==null).reverse(),!0),it(r,[...g(r)],!0)}catch(f){console.error("Error loading PMI data:",f)}}async function u(){try{const _=(await(await fetch("/data/Monthly TEU.csv")).text()).trim().split(`
`).slice(1);it(i,_.map(y=>{const b=y.trim();if(!b)return null;const N=b.match(/^(\d{4}-\d{2})/);if(!N)return null;const S=N[1],[M,T]=S.split("-"),m=new Date(parseInt(M),parseInt(T)-1,1),p=b.substring(S.length),C=Math.floor(p.length/3),O=Number(p.substring(0,C)),B=Number(p.substring(C,C*2)),A=Number(p.substring(C*2));return{date:m,longBeach:O||0,losAngeles:B||0,nyNj:A||0}}).filter(y=>y!==null).reverse(),!0),it(i,[...g(i)],!0)}catch(f){console.error("Error loading TEU data:",f)}}jr(async()=>{await Promise.all([a(),o(),u()])});var l=oh(),s=G(l);Jc(s);var c=$(s,2);ah(c,{get tariffs(){return g(n)},get pmiData(){return g(r)},get teuData(){return g(i)}}),H(l),Y(t,l),ue()}export{dh as component};
